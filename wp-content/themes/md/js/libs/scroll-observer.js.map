{"version":3,"file":"scroll-observer.js","names":["ScrollObserver","els","cb","options","document","querySelectorAll","defaultOptions","root","rootMargin","threshold","once","Object","assign","_init","callback","entries","observer","forEach","entry","isIntersecting","target","unobserve","io","IntersectionObserver","bind","POLL_INTERVAL","el","observe"],"sources":["libs/scroll-observer.js"],"sourcesContent":["class ScrollObserver {\n  constructor(els, cb, options) {\n    this.els = document.querySelectorAll(els);\n    const defaultOptions = {\n      root: null,\n      rootMargin: '0px',\n      threshold: 0,\n      once: true,\n    };\n    this.cb = cb;\n    this.options = Object.assign(defaultOptions, options);\n    this.once = this.options.once;\n    this._init();\n  }\n\n  _init() {\n    const callback = function (entries, observer) {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          this.cb(entry.target, true);\n          if (this.once) {\n            observer.unobserve(entry.target);\n          }\n        } else {\n          this.cb(entry.target, false);\n        }\n      });\n    };\n\n    this.io = new IntersectionObserver(callback.bind(this), this.options);\n\n    // @see https://github.com/w3c/IntersectionObserver/tree/master/polyfill\n    this.io.POLL_INTERVAL = 100;\n\n    this.els.forEach((el) => this.io.observe(el));\n  }\n}\n"],"mappings":";;;;;;;;IAAMA,cAAc;EAClB,wBAAYC,GAAG,EAAEC,EAAE,EAAEC,OAAO,EAAE;IAAA;IAC5B,IAAI,CAACF,GAAG,GAAGG,QAAQ,CAACC,gBAAgB,CAACJ,GAAG,CAAC;IACzC,IAAMK,cAAc,GAAG;MACrBC,IAAI,EAAE,IAAI;MACVC,UAAU,EAAE,KAAK;MACjBC,SAAS,EAAE,CAAC;MACZC,IAAI,EAAE;IACR,CAAC;IACD,IAAI,CAACR,EAAE,GAAGA,EAAE;IACZ,IAAI,CAACC,OAAO,GAAGQ,MAAM,CAACC,MAAM,CAACN,cAAc,EAAEH,OAAO,CAAC;IACrD,IAAI,CAACO,IAAI,GAAG,IAAI,CAACP,OAAO,CAACO,IAAI;IAC7B,IAAI,CAACG,KAAK,EAAE;EACd;EAAC;IAAA;IAAA,OAED,iBAAQ;MAAA;MACN,IAAMC,QAAQ,GAAG,SAAXA,QAAQ,CAAaC,OAAO,EAAEC,QAAQ,EAAE;QAAA;QAC5CD,OAAO,CAACE,OAAO,CAAC,UAACC,KAAK,EAAK;UACzB,IAAIA,KAAK,CAACC,cAAc,EAAE;YACxB,KAAI,CAACjB,EAAE,CAACgB,KAAK,CAACE,MAAM,EAAE,IAAI,CAAC;YAC3B,IAAI,KAAI,CAACV,IAAI,EAAE;cACbM,QAAQ,CAACK,SAAS,CAACH,KAAK,CAACE,MAAM,CAAC;YAClC;UACF,CAAC,MAAM;YACL,KAAI,CAAClB,EAAE,CAACgB,KAAK,CAACE,MAAM,EAAE,KAAK,CAAC;UAC9B;QACF,CAAC,CAAC;MACJ,CAAC;MAED,IAAI,CAACE,EAAE,GAAG,IAAIC,oBAAoB,CAACT,QAAQ,CAACU,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAACrB,OAAO,CAAC;;MAErE;MACA,IAAI,CAACmB,EAAE,CAACG,aAAa,GAAG,GAAG;MAE3B,IAAI,CAACxB,GAAG,CAACgB,OAAO,CAAC,UAACS,EAAE;QAAA,OAAK,MAAI,CAACJ,EAAE,CAACK,OAAO,CAACD,EAAE,CAAC;MAAA,EAAC;IAC/C;EAAC;EAAA;AAAA"}